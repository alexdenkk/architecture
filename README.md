# architecture

## Структура платформы по решению задач математического анализа
<img src="https://raw.githubusercontent.com/alexdenkk/architecture/refs/heads/main/graph.png">

<br>

## Ответы на вопросы

### Формат внутреннего обмена данными
 - **Следует ли использовать JSON во всех внутренних взаимодействиях?**
 - Нет, не следует использовать JSON везде. Для внутренней коммуникации JSON избыточен и медленен, \
 потому не подходит подходит для больших объемов данных. \
 В данном случае лучше использовать бинарные протоколы (protobuf, grpc).
 <br>

### Шифрование данных
 - **Требуется ли шифрование данных в движении (между компонентами внутри одной машины или в кластере)?**
 - Да, обязательно. Например можно использовать mTLS.
<br>

 - **Требуется ли шифрование данных в покое (например, в очереди задач или кэше результатов)?**
 - Только если в промежуточных данных есть конфиденциальная информация.
 <br>
 
 - **Если да — то каким способом?**
 - Прозрачное шифрование на уровне сервисов, например симметричным алгоритмом. \
 Также можно использовать лог-шифраторы для логов с конфиденциальными данными.
 <br>

### Хранение состояния
 - **Целесообразно ли реализовать платформу без постоянной базы данных, полагаясь только на in-memory структуры (очередь, кэш результатов) и файловую систему (для конфигурации и логов)?**
 - Нет, реализация полностью без БД нецелесообразна для надёжной системы.
 <br>

 - **Как обеспечить надёжность (например, восстановление после перезапуска или аварийного выключения) без БД?**
 - Брокер сообщений с персистентностью(например Apache Kafka) или \
   распределенный кэш/хранилище с персистентностью и репликацией (например Redis)
 <br>

 - **Какие основные ошибки видите в работе данного сервиса, как их предупредить на этапе разработки?**
 - Некорректные входные данные для модулей: Строгая валидация \
   Потеря задач или результатов: Использовать подтверждение при обработке сообщений брокером.
 <br>

 - **Какие варианты обнаружения и автоматической обработки данных ошибок знаете и можете предложить?**
 - Retry with Exponential Backoff \
   Dead Letter Queue \
   Healthcheck`и
